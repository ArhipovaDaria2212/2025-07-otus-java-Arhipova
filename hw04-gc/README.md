# Сборщик мусора (ДЗ №4)

## Задачи:
Определение нужного размера хипа. На примере простого приложения понять какое влияние оказывают сборщики мусора.
  - Определите оптимальный размер хипа, т.е. размер, превышение которого,
    не приводит к сокращению времени выполнения приложения.
  - Оптимизируйте работу приложения. Т.е. не меняя логики работы (но изменяя код), сделайте так, чтобы приложение работало быстро с минимальным хипом.
  - Повторите измерения времени выполнения программы для тех же значений размера хипа.

## Результаты измерений

#### До оптимизации

| Размер heap | Время выполнения   |
|-------------|--------------------|
| 128m        | 49676 msec, 49 sec |
| 256m        | 45875 msec, 45 sec |
| 512m        | 45513 msec, 45 sec |
| 1024m       | 45760 msec, 45 sec |
| 1536m       | 46734 msec, 46 sec |
| 2048m       | 48406 msec, 48 sec |

**Вывод:** скорость приложения не влияет от размера хипа.
Показатели не улучшаются начиная с 256 Мб, 
но начиная с размера > 1024 Мб показатели снова ухудшаются

#### После оптимизации

| Размер heap | Время выполнения   |
|-------------|--------------------|
| 128m        | 29712 msec, 29 sec |
| 256m        | 29778 msec, 29 sec |
| 512m        | 30377 msec, 30 sec |
| 1024m       | 30880 msec, 30 sec |
| 1536m       | 33042 msec, 33 sec |
| 2048m       | 35068 msec, 35 sec |

**Вывод:** скорость приложения не влияет от размера хипа.
Показатели не улучшаются начиная с 128 Мб,
а начиная с размера > 512 Мб показатели ухудшаются

#### Общий вывод

По информации из тестов и из сети можно сделать вывод, что без раздумий 
многократно увеличивать размер heap не имеет особого смысла и может даже ухудшить работу приложения,
 в силу затрат на выделение большого размера памяти, большей вероятности фрагментации и т. д.,
но и слишком маленький объем памяти может вызвать проблемы
из-за ее нехватки и, например, слишком частой сборки мусора